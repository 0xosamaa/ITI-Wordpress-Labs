!function(){var n=function(n){var t=jQuery,e=t("#wpfront-notification-bar-options");function o(){var e=parseInt(t('input[name="wpfront-notification-bar-options[schedule_duration]"]').val());if(e>60){var o,i=e/60,a=Math.floor(i),c=60*(i-a),r=Math.round(c);o=r>0?n.x_hours_minutes.replace("%1$d",a).replace("%2$d",r):n.x_hours.replace("%1$d",a),t("#schedule_duration").replaceWith('<span id="schedule_duration" class="description">= '+o+"</span>")}else t("#schedule_duration").replaceWith('<span id="schedule_duration" class="description"></span>')}e.on("change",'.pages-selection input[type="checkbox"]',(function(){var n=t(this),e=n.parent().parent().parent().prev(),o=e.val();n.prop("checked")?o+=","+n.val():o=(","+o+",").replace(","+n.val()+",",","),o=o.replace(/(^[,\s]+)|([,\s]+$)/g,""),e.val(o)})),e.on("change",'.roles-selection input[type="checkbox"]',(function(){var n=[],e=t(this).parent().parent().parent();e.find("input:checked").each((function(e,o){n.push(t(o).val())})),e.children(":first").val(JSON.stringify(n))})),o(),!0===t("#date-none").is(":checked")?(t(".start-end-date").hide(),t(".schedule-date").hide()):!0===t("#start-end-date").is(":checked")?(t(".start-end-date").show(),t(".schedule-date").hide()):(t(".start-end-date").hide(),t(".schedule-date").show()),e.on("click","#start-end-date",(function(){t(".start-end-date").show(),t(".schedule-date").hide()})),e.on("click","#schedule-date",(function(){t(".start-end-date").hide(),t(".schedule-date").show()})),e.on("click","#date-none",(function(){t(".start-end-date").hide(),t(".schedule-date").hide()})),"week"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t('input[name="wpfront-month-days[]"]').attr("disabled",!0),t('input[name="wpfront-week-days[]"]').attr("disabled",!1),t(".wpfront-notification-weekly").show(),t(".wpfront-notification-monthly").hide()),"mon"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t('input[name="wpfront-week-days[]"]').attr("disabled",!0),t('input[name="wpfront-month-days[]"]').attr("disabled",!1),t(".wpfront-notification-weekly").hide(),t(".wpfront-notification-monthly").show()),"day"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t('input[name="wpfront-month-days[]"]').attr("disabled",!0),t('input[name="wpfront-week-days[]"]').attr("disabled",!0),t(".wpfront-notification-weekly").hide(),t(".wpfront-notification-monthly").hide()),e.on("change",".wpfront-cron-monthly",(function(){t('input[name="wpfront-week-days[]"]').attr("disabled",!0),t('input[name="wpfront-month-days[]"]').attr("disabled",!1),t(".wpfront-notification-weekly").hide(),t(".wpfront-notification-monthly").show()})),e.on("change",".wpfront-cron-weekly",(function(){t('input[name="wpfront-month-days[]"]').attr("disabled",!0),t('input[name="wpfront-week-days[]"]').attr("disabled",!1),t(".wpfront-notification-weekly").show(),t(".wpfront-notification-monthly").hide()})),e.on("change",".wpfront-cron-daily",(function(){t('input[name="wpfront-month-days[]"]').attr("disabled",!0),t('input[name="wpfront-week-days[]"]').attr("disabled",!0),t(".wpfront-notification-weekly").hide(),t(".wpfront-notification-monthly").hide()})),e.on("change",'[name="wpfront-notification-bar-options[schedule]"], input[name="wpfront-month-days[]"], input[name="wpfront-day-hour[]"], input[name="wpfront-day-minutes[]"], input[name="wpfront-week-days[]"], input[name="wpfront-notification-bar-options[schedule_start_date]"], input[name="wpfront-notification-bar-options[schedule_start_time]"], input[name="wpfront-notification-bar-options[schedule_duration]"],input[name="wpfront-notification-bar-options[schedule_end_date]"], input[name="wpfront-notification-bar-options[schedule_end_time]"] ',(function(){!function(){var n=[],e=[],o=[],i=[],a=[],c=t('input[name="wpfront-notification-bar-options[schedule_start_date]"]').val(),r=t('input[name="wpfront-notification-bar-options[schedule_start_time]"]').val(),d=t('input[name="wpfront-notification-bar-options[schedule_end_date]"]').val(),s=t('input[name="wpfront-notification-bar-options[schedule_end_time]"]').val(),p=t('input[name="wpfront-notification-bar-options[schedule_duration]"]').val();"day"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t("input:checkbox[name='wpfront-day-minutes[]']:checked").each((function(){n.push(t(this).val())})),t("input:checkbox[name='wpfront-day-hour[]']:checked").each((function(){e.push(t(this).val())})),o.push("*"),i.push("*"),a.push("*")),"week"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t("input:checkbox[name='wpfront-day-minutes[]']:checked").each((function(){n.push(t(this).val())})),t("input:checkbox[name='wpfront-day-hour[]']:checked").each((function(){e.push(t(this).val())})),o.push("*"),i.push("*"),t("input:checkbox[name='wpfront-week-days[]']:checked").each((function(){a.push(t(this).val())}))),"mon"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t("input:checkbox[name='wpfront-day-minutes[]']:checked").each((function(){n.push(t(this).val())})),t("input:checkbox[name='wpfront-day-hour[]']:checked").each((function(){e.push(t(this).val())})),t("input:checkbox[name='wpfront-month-days[]']:checked").each((function(){o.push(t(this).val())})),i.push("*"),a.push("*"));var u={action:"notification_bar_cron_text",cronminutes:n,cronhours:e,cronmday:o,cronmon:i,cronwday:a,schedulestartdate:c,schedulestarttime:r,scheduleduration:p,scheduleenddate:d,scheduleendtime:s},h=t("a.thickbox.more_schedules").attr("data-action");t("#div_more_schedules_inside").text(h),t.post(ajaxurl,u,(function(n){t("#notification-bar-schedule").replaceWith(n.data[0]),t("#div_more_schedules_inside").replaceWith(n.data[1])}))}()})),e.on("focusout",'[name="wpfront-notification-bar-options[schedule_duration]"]',(function(){o()})),e.find("input.date").datepicker({dateFormat:"yy-mm-dd"}),e.find("input.time").timepicker({timeFormat:"h:i a"}),e.on("change","#chk_button_action_url_noopener",(function(){t("#txt_button_action_url_noopener").val(t(this).prop("checked")?1:0)})),e.find(".color-selector").each((function(n,e){var o;(o=t(e)).ColorPicker&&o.ColorPicker({color:o.attr("color"),onShow:function(n){return t(n).fadeIn(500),!1},onHide:function(n){return t(n).fadeOut(500),!1},onChange:function(n,t,e){o.css("backgroundColor","#"+t),o.next().val("#"+t)}}).css("backgroundColor",o.attr("color"))}))};window.init_wpfront_notifiction_bar_options=function(t){var e=jQuery;"complete"===document.readyState?n(t):e((function(){n(t)}));var o=null;e("#wpfront-notification-bar-options").on("click","#media-library-button",(function(){return null===o&&(o=wp.media.frames.file_frame=wp.media({title:t.choose_image,multiple:!1,button:{text:t.select_image}}).on("select",(function(){var n=o.state().get("selection").first().toJSON();e("#reopen-button-image-url").val(n.url)}))),o.open(),!1}))}}();